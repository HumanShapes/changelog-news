<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Changelog News</title>
    <link rel="stylesheet" href="./css/main.css">

    <script>
      window.onload = function() {
        const iframe = document.getElementById('newsletter_iframe');
        iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';

        window.onresize = function() {
          iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
        };
      };

      function goToTestimonial(index) {
        // Get all slides and pagination buttons
        const testimonials = document.querySelectorAll('.testimonials-item');
        const paginationButtons = document.querySelectorAll('.testimonials-pagination li button');

        // Hide all slides and remove 'is-active' class from pagination buttons
        testimonials.forEach(function(slide) {
          slide.classList.remove('is-active');
        });
        paginationButtons.forEach(function(button) {
          button.parentNode.classList.remove('is-active');
        });

        // Show the selected slide and add 'is-active' class to its corresponding pagination button
        testimonials[index].classList.add('is-active');
        paginationButtons[index].parentNode.classList.add('is-active');
      }

      // Auto-play testimonials
      const testimonialInterval = setInterval(() => {
          // Make sure we aren't hovering over the parent
          if (document.querySelector('.testimonials').matches(':hover')) {
            return;
          }

          const testimonials = document.querySelectorAll('.testimonials-item');
          const activeTestimonial = document.querySelector('.testimonials-item.is-active');
          let nextIndex = Array.from(activeTestimonial.parentNode.children).indexOf(activeTestimonial) + 1;

          // check if were at the last testimonial
          if (nextIndex == testimonials.length) {
            nextIndex = 0;
          }
          console.log(nextIndex);
          goToTestimonial(nextIndex);
      }, 10000);

      function toggleReasons() {
        const reasons = document.querySelector('.reasons');
        reasons.classList.toggle('is-visible');

        const isVisible = reasons.classList.contains('is-visible')

        // Ensure we are scrolled to the top
        if (isVisible) {
          reasons.scrollTo({
            top: reasons.offsetTop,
          });
        }

        // Don't allow the body to scroll when modal is open
        document.body.classList.toggle('no-scroll', isVisible)
      }
    </script>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="header-inner">
          <div class="header-info">
            <img src="./img/logo.svg" alt="Changelog News Logo" width="48px">
            <h1 class="display-xl">Changelog News, the software&nbsp;newsletter with a companion podcast.</h1>
            <p class="sans-md color-grey"><em>Audio for folks too productive to read, text for those who forgot their headphones at home.</em></p>

            <form class="subscribe_form m-t-sm">
              <label for="email" class="visually-hidden">Email Address</label>
              <input type="email" id="email" name="email" placeholder="Email address..." required>
              <button type="submit">Subscribe</button>
            </form>

            <ul class="subscribe_icons">
              <li class="subscribe_icons-item" style="--image-url: url(https://cdn.changelog.com/static/images/icons/podcast_icon-apple-d6c46c92770203caa0afcdf49a0b23c7.png)"><a href=""><span>Apple</span></a></li>
              <li class="subscribe_icons-item" style="--image-url: url(https://cdn.changelog.com/static/images/icons/podcast_icon-overcast-0579f131754e9d82091d531495602720.png)"><a href=""><span>Overcast</span></a></li>
              <li class="subscribe_icons-item" style="--image-url: url(https://cdn.changelog.com/static/images/icons/podcast_icon-spotify-03bdc7f8f7de35209c1ab61704084df3.png)"><a href=""><span>Spotify</span></a></li>
              <li class="subscribe_icons-item" style="--image-url: url(https://cdn.changelog.com/static/images/icons/podcast_icon-android-5eefea09a4a07f40ac706a6483823f43.png)"><a href=""><span>Android</span></a></li>
            </ul>

            <div class="reasons">
              <button class="reasons-close" title="Close" onclick="toggleReasons()"></button>
              <h2 class="display-xl m-b-lg m-r-lg">34 Reasons You Should Subscribe to&nbsp;Changelog News</h2>
              <ol class="reasons-list">
                <li>We donâ€™t track you.</li>
                <li>Weâ€™ve been doing this for over ten years, and weâ€™re great at it.</li>
                <li>You need some good email in your inbox to outweigh the crap.</li>
                <li>Itâ€™s free.</li>
                <li>Stay updated on the latest trends in technology.</li>
                <li>Gain insights from industry experts.</li>
                <li>Discover new tools and software.</li>
                <li>Learn about emerging programming languages.</li>
                <li>Stay ahead of the competition with insider knowledge.</li>
                <li>Get access to exclusive interviews with top developers.</li>
                <li>Stay informed about upcoming conferences and events.</li>
                <li>Expand your network by connecting with like-minded individuals.</li>
                <li>Receive valuable tips and tricks for software development.</li>
                <li>Access in-depth analyses of popular open-source projects.</li>
                <li>Stay informed about changes in software licensing.</li>
                <li>Discover career opportunities in the tech industry.</li>
                <li>Learn about best practices for project management.</li>
                <li>Receive notifications about important software updates.</li>
                <li>Stay informed about the latest security vulnerabilities.</li>
                <li>Learn about innovative projects and startups.</li>
                <li>Get recommendations for must-read tech books and articles.</li>
                <li>Stay inspired by success stories from seasoned developers.</li>
                <li>Discover new podcasts, blogs, and online communities.</li>
                <li>Learn about the impact of technology on society.</li>
                <li>Stay updated on the latest developments in artificial intelligence and machine learning.</li>
                <li>Receive actionable advice for improving your coding skills.</li>
                <li>Stay informed about changes in industry regulations.</li>
                <li>Gain a deeper understanding of software architecture and design patterns.</li>
                <li>Learn about strategies for optimizing performance and scalability.</li>
                <li>Discover the latest tools and techniques for debugging and troubleshooting.</li>
                <li>Stay informed about trends in web development and design.</li>
                <li>Access resources for continuous learning and professional development.</li>
              </ol>

              <button class="button m-t-lg" onclick="toggleReasons()">Alright, Iâ€™m ready to subscribe!</button>
            </div>
          </div>

          <div class="testimonials">
            <blockquote class="testimonials-item is-active">
              <div class="testimonials-item-image">
                <img src="https://i.pravatar.cc/100?img=12" width="64px" height="64px" />
              </div>
              <div>
                <p>Changelog News is the only news I look forward to every week... and some weeks, I play it twice. Quick, witty, informative & positive. Rock on, Jerod!</p>
                <cite class="mono-sm">Mary H.</cite>
              </div>
            </blockquote>
            <blockquote class="testimonials-item">
              <div class="testimonials-item-image">
                <img src="https://i.pravatar.cc/100?img=13" width="64px" height="64px" />
              </div>
              <div>
                <p>I gotta say the Changelog Newsletter is the best programming journalism i've seen in years.</p>
                <cite class="mono-sm">Justin Searls</cite>
              </div>
            </blockquote>
            <blockquote class="testimonials-item">
              <div class="testimonials-item-image">
                <img src="https://i.pravatar.cc/100?img=14" width="64px" height="64px" />
              </div>
              <div>
                <p>Changelog News is the best thing since sliced bread. I can't get enough of it.</p>
                <cite class="mono-sm">John Doe</cite>
              </div>
            </blockquote>
            <ul class="testimonials-pagination">
              <li class="is-active"><button title="Go to 1" onclick="goToTestimonial(0)"></button></li>
              <li><button title="Go to 2" onclick="goToTestimonial(1)"></button></li>
              <li><button title="Go to 3" onclick="goToTestimonial(2)"></button></li>
            </ul>
          </div>

          <div class="header-ctas">
            <button class="text_button m-b-sm" onclick="toggleReasons()">34 More Reasons to Subscribe</button>
            <p class="mono-sm color-grey">Browse all of our podcasts at <a href="/">changelog.com</a></p>
          </div>
        </div>
      </header>
      <main class="main issue_list">
        <!-- Toggle is-playing when playing or not -->
        <article class="issue_list-item issue_list-item--sticky is-playing">
          <div>
            <p class="mono-sm">March 18, 2024 â€” 3 Minutes</p>
            <h2 class="display-lg">ðŸª§ No Maintenance Intended</h2>
          </div>
          <button class="play_button" title="Play"></button>
          <div class="progress_bar" style="--progress: 30%;"></div>
        </article>

        <div id="newsletter_iframe-container" class="newsletter_content">
          <!-- We need the iframe not to scroll. Using a deprecated attribute but not sure how reliable it is. -->
          <iframe id="newsletter_iframe" src="./email.html" scrolling="no"></iframe>
        </div>

        <div class="issue_list-pagination">
          <article class="issue_list-item issue_list-item--view_all">
            <div>
              <h2 class="display-lg"><a href="/news/archive">View All Episodes</a></h2>
            </div>
          </article>
          <article class="issue_list-item">
            <div>
              <p class="mono-sm">March 18, 2024 â€” 3 Minutes</p>
              <h2 class="display-lg"><a href="/news/87">ðŸª§ No Maintenance Intended</a></h2>
            </div>
          </article>
        </div>
      </main>
    </div>
  </body>
</html>
